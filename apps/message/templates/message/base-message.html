{% extends 'wauth/base.html' %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}vendor/css/ns-style-bar.css" />
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}vendor/css/custom.css" />

    <button id="notification-trigger" class="progress-button">
        <span class="content">Show Notification</span>
        <span class="progress"></span>
    </button>
    {% block contentMessage %}

    {% endblock %}
    {% if user.is_authenticated %}
        <script>
			(function() {
				var bttn = document.getElementById( 'notification-trigger' );

				// make sure..
				bttn.disabled = false;

				bttn.addEventListener( 'click', function() {
					// simulate loading (for demo purposes only)
					classie.add( bttn, 'active' );
					setTimeout( function() {

						classie.remove( bttn, 'active' );

						// create the notification
						var notification = new NotificationFx({
							message : '<span class="icon icon-megaphone"></span><p>You have some interesting news in your inbox. Go <a href="#">check it out</a> now.</p>',
							layout : 'bar',
							effect : 'slidetop',
							type : 'notify', // notice, warning or error
                            ttl: 15000,
							onClose : function() {
								bttn.disabled = false;
							}
						});

						// show the notification
						notification.show();

					}, 1200 );

					// disable the button (for demo purposes only)
					this.disabled = true;
				} );
			})();
		</script>
    {% endif %}
{% endblock %}